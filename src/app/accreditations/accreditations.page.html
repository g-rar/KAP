<ion-header>
  <ion-toolbar>
    <ion-buttons slot="start">
      <ion-button  [routerLink]="['/usermenu']">KAP </ion-button>
      <ion-menu-button></ion-menu-button>
    </ion-buttons>
    
    <ion-title *ngIf="!ios && !showSearchbar">Acreditaciones</ion-title>
    <ion-searchbar *ngIf="showSearchbar" animated (ionChange)="buscarAcreditacion($event)" showCancelButton="always" (ionCancel)="showSearchbar =false"  placeholder="Search"></ion-searchbar>
  <ion-buttons slot ="end">
    <ion-button *ngIf="!ios && !showSearchbar" (click)="showSearchbar = true">
      <ion-icon slot="icon-only" name="search"></ion-icon>
    </ion-button>
  </ion-buttons>
    <!--ion-searchbar *ngIf="showSearchbar" showCancelButton="always" (ionCancel)="showSearchbar = false" placeholder="Search"></ion-searchbar>
    <ion-buttons slot="end">
      <ion-button *ngIf="!ios && !showSearchbar" (click)="showSearchbar = true">
        <ion-icon slot="icon-only" name="search"></ion-icon>
      </ion-button>
      <ion-button *ngIf="!showSearchbar">
        <span *ngIf="ios">Filter</span>
        <span *ngIf="!ios">
          <ion-icon slot="icon-only" name="options"></ion-icon>
        </span>
      </ion-button>
    </ion-buttons-->
  </ion-toolbar>
</ion-header>


<ion-content fullscreen="true">

  <ion-list  *ngFor="let area of areas|busqueda:textoBuscar">
    <ion-title tappable  color="primary" (click)="abrirMenu(area.nombre,2)">  <ion-icon name="school-sharp" item-start></ion-icon> {{area.nombre}} </ion-title>
    <ion-list id="{{area.nombre+0}}" *ngIf="area.acreditaciones">
      <ion-item-group  lines="none" >
        <ion-label tappable (click)="abrirMenu(area.nombre+0,area.acreditaciones.length)" color="secondary" > Acreditaciones</ion-label>
          <ion-item id="{{(area.nombre+0)+a_ai}}"  [routerLink]="['/usermenu']" *ngFor="let a_acr of area.acreditaciones; let a_ai = index">
            <ion-label >- {{a_acr.nombre}}</ion-label>
          </ion-item> 
      </ion-item-group>
    </ion-list>
    <ion-item-group id="{{area.nombre+1}}" lines="none" *ngIf="area.ramas">
          <ion-label tappable (click)="abrirMenu(area.nombre+1,area.ramas.length)" color="secondary">Ramas</ion-label>
            <ion-list id="{{(area.nombre+1)+r_ai}}"   class="listaRamas" *ngFor="let rama of area.ramas;let r_ai=index">
              <ion-label> 
                <ion-icon name="aperture-sharp" item-start></ion-icon> {{rama.nombre}} </ion-label>
                <ion-list class="listaSubRama" *ngIf="rama.acreditaciones">
                  <ion-label  color="tertiary">Acreditaciones</ion-label>
                  
                  <ion-item [routerLink]="['/usermenu']" *ngFor="let r_acr of rama.acreditaciones">
                      <ion-label>- {{r_acr.nombre}}</ion-label>
                    </ion-item>
                </ion-list>
              <ion-item-group  class="listaSubRama" lines="none" *ngIf="rama.especializaciones">
                <ion-list >
                  <ion-label color="tertiary">Especializaciones</ion-label>
                <ion-list  class="listaSubRama" *ngFor="let esp of rama.especializaciones">
                  <ion-label><ion-icon name="caret-forward-sharp" item-start></ion-icon>{{esp.nombre}}</ion-label>
                  <ion-item-group lines="none" *ngIf="rama.acreditaciones">
                    <ion-list  class="listaSubEsp">
                      <ion-label color="secondary">Acreditaciones</ion-label>
                        <ion-item [routerLink]="['/usermenu']" *ngFor="let e_acr of esp.acreditaciones">
                          <ion-label>- {{e_acr.nombre}}</ion-label>
                        </ion-item>
                    </ion-list>
                  </ion-item-group>
                </ion-list>
                </ion-list>
              </ion-item-group>
            </ion-list>
       </ion-item-group> 
  </ion-list>



</ion-content>